# –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–º–µ—á–∞–Ω–∏–π

## –û–ø–∏—Å–∞–Ω–∏–µ

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ –≥—Ä—É–ø–ø—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–º–µ—á–∞–Ω–∏—è –∫—É—Ä—å–µ—Ä–∞–º –≤ —Å–ª—É—á–∞–µ:
- –ù–µ–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ –≤ –æ–ø—Ä–æ—Å–∞—Ö
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏—è –≥–æ–ª–æ—Å–æ–≤ –æ—Ç –∫—É—Ä—å–µ—Ä–æ–≤

## –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫

–ó–∞–º–µ—á–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Å–ª–µ–¥—É—é—â–∏–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏:

1. **17:50** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º –æ–ø—Ä–æ—Å–æ–≤

## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è

### 1. –ù–µ–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã
–ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–π —Å–ª–æ—Ç –æ–ø—Ä–æ—Å–∞ –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç:
- –°–∫–æ–ª—å–∫–æ –∫—É—Ä—å–µ—Ä–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è —Å–ª–æ—Ç–∞ (`max_users`)
- –°–∫–æ–ª—å–∫–æ –∫—É—Ä—å–µ—Ä–æ–≤ —É–∂–µ –∑–∞–ø–∏—Å–∞–ª–æ—Å—å (`current_users`)
- –°–∫–æ–ª—å–∫–æ –∫—É—Ä—å–µ—Ä–æ–≤ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç (`needed = max_users - current_users`)

–ï—Å–ª–∏ —Å–ª–æ—Ç –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω, –≤ –∑–∞–º–µ—á–∞–Ω–∏–∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:
```
üìâ –ù–µ–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã:
‚Ä¢ 08:00-20:00: –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç 1 –∫—É—Ä—å–µ—Ä–∞ (1/2)
‚Ä¢ 10:00-22:30: –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç 2 –∫—É—Ä—å–µ—Ä–æ–≤ (0/2)
```

### 2. –ù–µ–æ—Ç–º–µ—Ç–∏–≤—à–∏–µ—Å—è –∫—É—Ä—å–µ—Ä—ã
–ë–æ—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫—É—Ä—å–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ:
- –Ø–≤–ª—è—é—Ç—Å—è —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –≥—Ä—É–ø–ø—ã
- –ò–º–µ—é—Ç —Ç–µ–≥–∏ –≤ –∏–º–µ–Ω–∏ (8958, 7368, 6028) –∏–ª–∏ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã –≤ –ë–î
- –ù–µ —è–≤–ª—è—é—Ç—Å—è –∫—É—Ä–∞—Ç–æ—Ä–∞–º–∏
- –ù–µ –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–ª–∏ –≤ –æ–ø—Ä–æ—Å–µ

–ù–µ–æ—Ç–º–µ—Ç–∏–≤—à–∏–µ—Å—è –∫—É—Ä—å–µ—Ä—ã —Ç—ç–≥–∞—é—Ç—Å—è –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏:
```
üë• –ù–µ –æ—Ç–º–µ—Ç–∏–ª–∏—Å—å:
[–ò–º—è –∫—É—Ä—å–µ—Ä–∞ 1] [–ò–º—è –∫—É—Ä—å–µ—Ä–∞ 2] [–ò–º—è –∫—É—Ä—å–µ—Ä–∞ 3]
```

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç—ç–≥–∞–Ω–∏–µ

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `user_id` –¥–ª—è —Ç—ç–≥–∞–Ω–∏—è –∫—É—Ä—å–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º–∞—Ç:
```html
<a href="tg://user?id=USER_ID">–ò–º—è –∫—É—Ä—å–µ—Ä–∞</a>
```

–≠—Ç–æ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–±, —á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@username`, —Ç–∞–∫ –∫–∞–∫:
- –ù–µ –≤—Å–µ –∫—É—Ä—å–µ—Ä—ã –∏–º–µ—é—Ç username
- Username –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω
- User_id –ø–æ—Å—Ç–æ—è–Ω–µ–Ω –∏ —É–Ω–∏–∫–∞–ª–µ–Ω

## –ö—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∑–∞–º–µ—á–∞–Ω–∏—è

–ó–∞–º–µ—á–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ —Ç–µ–º—É "–æ–±—â–∏–π —á–∞—Ç" (`general_chat_topic_id`) –¥—Ä—É–≥–æ–π –∞–∫—Ç–∏–≤–Ω–æ–π –≥—Ä—É–ø–ø—ã (–Ω–µ —Ç–æ–π, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –æ–ø—Ä–æ—Å).

–ï—Å–ª–∏ –¥—Ä—É–≥–∞—è –≥—Ä—É–ø–ø–∞ —Å —Ç–µ–º–æ–π "–æ–±—â–∏–π —á–∞—Ç" –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –∑–∞–º–µ—á–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.

## –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏

–î–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç:

```bash
python scripts/check_and_send_warnings.py
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä—É–ø–ø—ã
- –°–æ–∑–¥–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –æ–ø—Ä–æ—Å–æ–≤ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω —Å–µ—Ä–≤–∏—Å —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤)
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–º–µ—á–∞–Ω–∏—è —Å —Ç—ç–≥–∞–º–∏ –∫—É—Ä—å–µ—Ä–æ–≤

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `src/services/scheduler_service.py` –≤ –º–µ—Ç–æ–¥–µ `start()`:

```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–º–µ—á–∞–Ω–∏–π –∫—É—Ä—å–µ—Ä–∞–º
# –í 17:50
self.scheduler.add_job(
    self._check_and_send_warnings_job,
    CronTrigger(hour=17, minute=50),
    id="check_warnings_17_50",
)
```

–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `hour` –∏ `minute` –≤ `CronTrigger`.

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è:
- `INFO` - —É—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–º–µ—á–∞–Ω–∏–π
- `ERROR` - –æ—à–∏–±–∫–∏ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ
- `WARNING` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≥—Ä—É–ø–ø–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞)

–õ–æ–≥–∏ –º–æ–∂–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/logs` –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –∏–ª–∏ –≤ —Ñ–∞–π–ª–∞—Ö –ª–æ–≥–æ–≤.

## –ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è —Å –∑–∞–º–µ—á–∞–Ω–∏—è–º–∏

```
‚ö†Ô∏è –ó–∞–º–µ—á–∞–Ω–∏—è –ø–æ –æ–ø—Ä–æ—Å—É –ó–ò–ó-1 –Ω–∞ 21.12.2025

üìâ –ù–µ–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã:
‚Ä¢ 08:00-20:00: –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç 1 –∫—É—Ä—å–µ—Ä–∞ (1/2)
‚Ä¢ 10:00-22:30: –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç 2 –∫—É—Ä—å–µ—Ä–æ–≤ (0/2)

üë• –ù–µ –æ—Ç–º–µ—Ç–∏–ª–∏—Å—å:
[–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω] [–ü–µ—Ç—Ä–æ–≤ –ü–µ—Ç—Ä] [–°–∏–¥–æ—Ä–æ–≤ –°–∏–¥–æ—Ä]
```

–ö—É—Ä—å–µ—Ä—ã –±—É–¥—É—Ç —Ç—ç–≥–Ω—É—Ç—ã –∏ –ø–æ–ª—É—á–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç Telegram.

